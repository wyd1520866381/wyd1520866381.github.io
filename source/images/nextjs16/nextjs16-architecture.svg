<svg width="100%" height="400" viewBox="0 0 800 400" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#666" />
    </marker>
  </defs>
  <style>
    .box { fill: #fff; stroke: #333; stroke-width: 2; rx: 5; }
    .box-proxy { fill: #e6f7ff; stroke: #1890ff; }
    .box-cache { fill: #f6ffed; stroke: #52c41a; }
    .box-server { fill: #fff7e6; stroke: #fa8c16; }
    .text-box { font-family: sans-serif; font-size: 14px; text-anchor: middle; dominant-baseline: middle; }
  </style>
  <rect x="30" y="180" width="120" height="40" class="box" />
  <text x="90" y="200" class="text-box">Client / Browser</text>
  <path d="M150,200 L210,200" stroke="#666" stroke-width="2" marker-end="url(#arrow)" />
  <rect x="215" y="150" width="125" height="140" class="box box-proxy" />
  <text x="280" y="170" class="text-box">proxy.ts</text>
  <text x="280" y="200" class="text-box" font-size="12">Request Intercept</text>
  <text x="280" y="220" class="text-box" font-size="12">Rewrite / Redirect</text>
  <text x="280" y="260" class="text-box" font-size="10" fill="#666">Node.js Runtime</text>
  <path d="M340,200 L400,200" stroke="#666" stroke-width="2" marker-end="url(#arrow)" />
  <rect x="410" y="50" width="300" height="300" class="box box-cache" />
  <text x="560" y="70" class="text-box">Cache Components Layer</text>
  <rect x="440" y="100" width="240" height="60" class="box" stroke-dasharray="5,5" />
  <text x="560" y="130" class="text-box">Dynamic Page Shell</text>
  <path d="M560,160 L560,190" stroke="#666" stroke-width="2" marker-end="url(#arrow)" />
  <rect x="460" y="200" width="90" height="80" class="box box-server" />
  <text x="505" y="230" class="text-box" font-size="12">'use cache'</text>
  <text x="505" y="250" class="text-box" font-size="12">Component A</text>
  <rect x="570" y="200" width="90" height="80" class="box" />
  <text x="615" y="230" class="text-box" font-size="12">Dynamic</text>
  <text x="615" y="250" class="text-box" font-size="12">Component B</text>
  <text x="560" y="320" class="text-box" font-size="11" fill="#52c41a">Incremental Partial Prerendering (PPR)</text>
</svg>

